@startuml DCU_Expandido
left to right direction

skinparam dpi 150
skinparam wrapWidth 250
skinparam nodesep 70
skinparam ranksep 350
skinparam UsecaseFontSize 20
scale 1.5
'scale 1.5 | scale 200 width | scale 100 height | scale [max] 200x100
skinparam ActorFontSize 20
skinparam ArrowThickness 0.5
skinparam ArrowColor Black

actor Administrador
actor Docente
actor Alumno
actor "Google OAuth 2.0" as GoogleOAuth2
actor Videojuego

package "Plataforma Web - PGA"{
  'Subsistemas'
  package "Usuarios" {
    usecase "UC-01 Alta usuario" as UC01
    usecase "UC-02 Modificar usuario" as UC02
    usecase "UC-03 Buscar usuario" as UC03
    usecase "UC-04 Baja usuario" as UC04
    usecase "UC-05 Generar reporte de usuarios" as UC05

    'Relaciones'
    Administrador --> UC01
    Administrador --> UC02
    Alumno --> UC02
    Docente --> UC02
    UC02 ..> UC03 : <<include>>
    Administrador --> UC04
    UC04 ..> UC03 : <<include>>
    Administrador --> UC05
  }

  package "Institución y cursos" {
    usecase "UC-06 Configurar institución" as UC06
    usecase "UC-07 Alta curso" as UC07
    usecase "Modalidad presencial" as UC07A
    usecase "Modalidad virtual" as UC07B
    usecase "Modalidad mixta" as UC07C
    usecase "UC-08 Modificar curso" as UC08
    usecase "UC-09 Buscar curso" as UC09
    usecase "UC-10 Baja curso" as UC10
    usecase "UC-11 Unirse a un curso" as UC11
    usecase "UC-12 Habilitar siguiente capítulo" as UC12
    usecase "UC-13 Finalizar curso" as UC13

    'Relaciones'
    'Institución
    Administrador --> UC06
    'ABM Cursos
    Administrador --> UC07
    UC07 <.. UC07A : <<extend>>
    UC07 <.. UC07B : <<extend>>
    UC07 <.. UC07C : <<extend>>
    Administrador --> UC08
    Docente --> UC08
    Administrador --> UC10
    UC08 ..> UC09 : <<include>>
    UC10 ..> UC09 : <<include>>
    'Unirse a curso
    Alumno --> UC11
    UC11 ..> UC09 : <<include>>
    'Habilitar siguiente capítulo
    Docente --> UC12
    UC12 ..> UC09 : <<include>>
    'Finalizar curso
    Docente --> UC13
    UC13 ..> UC09 : <<include>>
  }

  package "Progreso" {
    usecase "UC-14 Consultar progreso de alumnos" as UC14
    usecase "UC-09 Buscar curso" as UC09A
    usecase "UC-15 Consultar mi progreso" as UC15
    usecase "UC-16 Sincronizar progreso de alumno" as UC16
    usecase "Actualizar riesgo académico" as UC16A

    'Relaciones'
    Docente --> UC14
    UC14 ..> UC09A : <<include>>
    Alumno --> UC15
    Videojuego --> UC16
    UC16 ..> UC16A : <<include>>
  }

  package "Dificultades"{
    usecase "UC-17 Consultar dificultades de alumnos" as UC17
    usecase "UC-09 Buscar curso" as UC09B
    usecase "UC-18 Consultar mis dificultades" as UC18
    usecase "UC-19 Sincronizar dificultades de alumno" as UC19
    usecase "Actualizar riesgo académico" as UC19A

    'Relaciones'
    Docente --> UC17
    UC17 ..> UC09B : <<include>>
    Alumno --> UC18
    Videojuego --> UC19
    UC19 ..> UC19A : <<include>>
  }

  package "Sesiones de refuerzo" {
    usecase "UC-20 Crear sesión de refuerzo" as UC20
    usecase "UC-21 Modificar sesión de refuerzo" as UC21
    usecase "UC-22 Buscar sesión de refuerzo" as UC22
    usecase "UC-23 Cancelar sesión de refuerzo" as UC23
    usecase "UC-24 Marcar asistencia a sesión" as UC24
    usecase "Marcar docente" as UC24A
    usecase "Marcar alumno" as UC24B
    usecase "UC-25 Desmarcar asistencia a sesión" as UC25


    'Relaciones'
    Docente --> UC20
    Docente --> UC21
    Docente --> UC23
    UC21 ..> UC22 : <<include>>
    UC23 ..> UC22 : <<include>>
    Docente --> UC24
    Alumno --> UC24
    UC24 ..> UC22 : <<include>>
    UC24 <.. UC24A : <<extend>>
    UC24 <.. UC24B : <<extend>>
    Docente --> UC25
    Alumno --> UC25
    UC25 ..> UC22 : <<include>>

  }

  package "Estadísticas"{
    usecase "UC-26 Consultar estadísticas de curso" as UC26
    usecase "UC-09 Buscar curso" as UC09C
    usecase "Estadísticas de progreso" as UC26A
    usecase "Estadísticas de dificultades" as UC26B
    usecase "Estadísticas de sesiones de refuerzo" as UC26C

    'Relaciones'
    Docente --> UC26
    Administrador --> UC26
    UC26 ..> UC09C : <<include>>
    UC26 <.. UC26A : <<extend>>
    UC26 <.. UC26B : <<extend>>
    UC26 <.. UC26C : <<extend>>
  }

  package "Reportes"{
    usecase "UC-27 Generar reporte de curso" as UC27
    usecase "UC-09 Buscar curso" as UC09D
    usecase "Reporte de progreso" as UC27A
    usecase "Reporte de dificultades" as UC27B
    usecase "Reporte de sesiones de refuerzo" as UC27C

    'Relaciones'
    Docente --> UC27
    Administrador --> UC27
    UC27 ..> UC09D : <<include>>
    UC27 <.. UC27A : <<extend>>
    UC27 <.. UC27B : <<extend>>
    UC27 <.. UC27C : <<extend>>
  }

  package "Auditoría" {
    usecase "UC-28 Consultar registros de auditoría" as UC28
    usecase "Exportar registros de auditoría" as UC28A

    'Relaciones'
    Administrador --> UC28
    UC28 <.. UC28A : <<extend>>
  }

  package "Seguridad y autenticación" {
    usecase "UC-29 Iniciar sesión" as UC29
    usecase "Iniciar sesión normal" as UC29A
    usecase "Iniciar sesión con Google" as UC29B
    usecase "UC-30 Registrarse" as UC30
    usecase "Registro normal" as UC30A
    usecase "Registro con Google" as UC30B
    usecase "UC-31 Cerrar sesión" as UC31

    'Relaciones'
    Administrador --> UC29
    Administrador --> UC31
    Docente --> UC29
    Docente --> UC31
    Alumno --> UC29
    Alumno --> UC30
    Alumno --> UC31
    UC29 <.. UC29A : <<extend>>
    UC29 <.. UC29B : <<extend>>
    UC30 <.. UC30A : <<extend>>
    UC30 <.. UC30B : <<extend>>
    GoogleOAuth2 -up-> UC29B
    GoogleOAuth2 -up-> UC30B
  }

}
@enduml
@startuml DCU_Expandido
left to right direction

skinparam dpi 150
skinparam usecasePadding 25
skinparam actorPadding 100
skinparam packagePadding 20
skinparam wrapWidth 200

skinparam nodesep 50
skinparam ranksep 300

skinparam ArrowThickness 1
skinparam ArrowColor Black


actor Administrador
actor Docente
actor Alumno
actor "Google OAuth 2.0" as GoogleOAuth2
actor Videojuego

package "Plataforma Web - PGA"{
  'Subsistemas'
  package "Usuarios" {
    usecase "UC-01 Alta usuario" as UC01
    usecase "UC-02 Modificar usuario" as UC02
    usecase "UC-03 Buscar usuario" as UC03
    usecase "UC-04 Baja usuario" as UC04
    usecase "UC-05 Generar reporte de usuarios" as UC05

    'Relaciones'
    Administrador --> UC01
    Administrador --> UC02
    Alumno --> UC02
    Docente --> UC02
    UC02 ..> UC03 : <<include>>
    Administrador --> UC04
    UC04 ..> UC03 : <<include>>
    Administrador --> UC05
  }

  package "Institución y cursos" {
    usecase "UC-06 Configurar institución" as UC06
    usecase "UC-07 Alta curso" as UC07
    usecase "Modalidad presencial" as UC07A
    usecase "Modalidad virtual" as UC07B
    usecase "Modalidad mixta" as UC07C
    usecase "UC-08 Modificar curso" as UC08
    usecase "UC-09 Buscar curso" as UC09
    usecase "UC-10 Baja curso" as UC10
    usecase "UC-11 Unirse a un curso" as UC11
    usecase "UC-12 Habilitar siguiente capítulo" as UC12
    usecase "UC-13 Finalizar curso" as UC13

    'Relaciones'
    'Institución
    Administrador --> UC06
    'ABM Cursos
    Administrador --> UC07
    UC07 <.. UC07A : <<extend>>
    UC07 <.. UC07B : <<extend>>
    UC07 <.. UC07C : <<extend>>
    Administrador --> UC08
    Docente --> UC08
    Administrador --> UC10
    UC08 ..> UC09 : <<include>>
    UC10 ..> UC09 : <<include>>
    'Unirse a curso
    Alumno --> UC11
    'Habilitar capítulo
    Docente --> UC12
    Docente --> UC13
    UC13 ..> UC09 : <<include>>
  }

  package "Progreso" {
    usecase "UC-14 Consultar progreso de alumnos" as UC14
    usecase "UC-15 Consultar mi progreso" as UC15
    usecase "UC-16 Sincronizar progreso de alumno" as UC16

    'Relaciones'
    Docente --> UC14
    Alumno --> UC15
    Videojuego -up-> UC16
  }

  package "Dificultades"{
    usecase "UC-17 Consultar dificultades de alumnos" as UC17
    usecase "UC-18 Consultar mis dificultades" as UC18
    usecase "UC-19 Sincronizar dificultades de alumno" as UC19

    'Relaciones'
    Docente --> UC17
    Alumno --> UC18
    Videojuego -up-> UC19
  }

  package "Sesiones de refuerzo" {
    usecase "UC-20 Crear sesión de refuerzo" as UC20
    usecase "UC-21 Modificar sesión de refuerzo" as UC21
    usecase "UC-22 Buscar sesión de refuerzo" as UC22
    usecase "UC-23 Cancelar sesión de refuerzo" as UC23
    usecase "UC-24 Indicar asistencia a sesión" as UC24
    usecase "Escribir consulta y/o duda específica" as UC24A

    'Relaciones'
    Docente --> UC20
    Docente --> UC21
    Docente --> UC23
    UC21 ..> UC22 : <<include>>
    UC23 ..> UC22 : <<include>>
    Docente --> UC24
    Alumno --> UC24
    UC24 ..> UC22 : <<include>>
    UC24 <.. UC24A : <<extend>>
  }

  package "Estadísticas"{
    usecase "UC-25 Consultar estadísticas de curso" as UC25
    usecase "Estadísticas de progreso" as UC25A
    usecase "Estadísticas de dificultades" as UC25B
    usecase "Estadísticas de sesiones de refuerzo" as UC25C

    'Relaciones'
    Docente --> UC25
    Administrador --> UC25
    UC25 <.. UC25A : <<extend>>
    UC25 <.. UC25B : <<extend>>
    UC25 <.. UC25C : <<extend>>
  }

  package "Reportes"{
    usecase "UC-26 Generar reporte de curso" as UC26
    usecase "Reporte de progreso" as UC26A
    usecase "Reporte de dificultades" as UC26B
    usecase "Reporte de sesiones de refuerzo" as UC26C

    'Relaciones'
    Docente --> UC26
    Administrador --> UC26
    UC26 <.. UC26A : <<extend>>
    UC26 <.. UC26B : <<extend>>
    UC26 <.. UC26C : <<extend>>
  }

  package "Auditoría" {
    usecase "UC-27 Consultar registros de auditoría" as UC27
    usecase "Exportar registros de auditoría" as UC27A

    'Relaciones'
    Administrador --> UC27
    UC27 <.. UC27A : <<extend>>
  }

  package "Seguridad y autenticación" {
    usecase "UC-28 Iniciar sesión" as UC28
    usecase "Iniciar sesión normal" as UC28A
    usecase "Iniciar sesión con Google" as UC28B
    usecase "UC-29 Registrarse" as UC29
    usecase "Registro normal" as UC29A
    usecase "Registro con Google" as UC29B
    usecase "UC-30 Cerrar sesión" as UC30

    'Relaciones'
    Administrador --> UC28
    Administrador --> UC30
    Docente --> UC28
    Docente --> UC30
    Alumno --> UC28
    Alumno --> UC29
    Alumno --> UC30
    UC28 <.. UC28A : <<extend>>
    UC28 <.. UC28B : <<extend>>
    UC29 <.. UC29A : <<extend>>
    UC29 <.. UC29B : <<extend>>
    GoogleOAuth2 -up-> UC28B
    GoogleOAuth2 -up-> UC29B
  }

}
@enduml